{"version":3,"file":"detectWebp.mjs","sources":["../../../src/detections/parsers/detectWebp.ts"],"sourcesContent":["import { extensions, ExtensionType } from '@pixi/core';\n\nimport type { FormatDetectionParser } from '..';\n\nexport const detectWebp = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 0,\n    },\n    test: async (): Promise<boolean> =>\n    {\n        const webpData = 'data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=';\n\n        return new Promise((resolve) =>\n        {\n            const webp = new Image();\n\n            webp.onload = () =>\n            {\n                resolve(true);\n            };\n            webp.onerror = () =>\n            {\n                resolve(false);\n            };\n            webp.src = webpData;\n        });\n    },\n    add: async (formats) => [...formats, 'webp'],\n    remove: async (formats) => formats.filter((f) => f !== 'webp'),\n} as FormatDetectionParser;\n\nextensions.add(detectWebp);\n"],"names":[],"mappings":";AAIO,MAAM,aAAa;AAAA,EACtB,WAAW;AAAA,IACP,MAAM,cAAc;AAAA,IACpB,UAAU;AAAA,EACd;AAAA,EACA,MAAM,YACN;AACI,UAAM,WAAW;AAEV,WAAA,IAAI,QAAQ,CAAC,YACpB;AACU,YAAA,OAAO,IAAI;AAEjB,WAAK,SAAS,MACd;AACI,gBAAQ,EAAI;AAAA,MAAA,GAEhB,KAAK,UAAU,MACf;AACI,gBAAQ,EAAK;AAAA,MAAA,GAEjB,KAAK,MAAM;AAAA,IAAA,CACd;AAAA,EACL;AAAA,EACA,KAAK,OAAO,YAAY,CAAC,GAAG,SAAS,MAAM;AAAA,EAC3C,QAAQ,OAAO,YAAY,QAAQ,OAAO,CAAC,MAAM,MAAM,MAAM;AACjE;AAEA,WAAW,IAAI,UAAU;"}